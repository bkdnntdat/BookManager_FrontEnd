<div *ngIf="book">
    <h1>{{book.title}}</h1>
    <div class="back-ground">
        <span class="color">{{book.createdAt | timeAgo}}</span>
        <span *ngIf="book.updatedAt" class="color">, updated at: {{book.updatedAt | timeAgo}}</span>
        <span class="block color">Author: {{book.author}}</span>
        <span class="block color">by user: {{book.user.email}}</span>
        <div innerHtml="{{book.description}}"></div>
    </div>
    <p class="block"></p>
    <div *ngIf="comments">
        <h2>Comment</h2>
        <div *ngIf="token">
            <textarea pInputTextarea [(ngModel)]="message" placeholder="Comment" style="width: 100em; height: 50px;"></textarea>
            <button pButton type="button" label="Comment" class="ui-button-rounded" (click)="postComment()" style="display: inline"></button>
        </div>
        <div *ngFor="let comment of comments" class="margin">
            <p-fieldset legend="{{comment.user.email}}">
                <div *ngIf="user.id==comment.user.id" style="float: right; display: inline;">
                    <button pButton type="button" style="font-size: 0.75em;" class="ui-button-secondary" icon="pi pi-ellipsis-v"></button>
                </div>
                <p>{{comment.message}}</p>
                <p class="float" style="display: block">{{comment.time | timeAgo}}</p>
            </p-fieldset>
        </div>
    </div>
</div>